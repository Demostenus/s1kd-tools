.\" Automatically generated by Pandoc 1.19.2.1
.\"
.TH "s1kd\-asp" "1" "2018\-02\-28" "" "s1kd\-tools"
.hy
.SH NAME
.PP
s1kd\-asp \- Applicability statement preprocessor
.SH SYNOPSIS
.PP
s1kd\-asp [\-a <ID>] [\-fx] [<modules>...]
.SH DESCRIPTION
.PP
The \f[I]s1kd\-asp\f[] tool preprocesses "semantic" applicability
statements in a data module to produce "presentation" applicability
statements which are simpler to parse in an XSLT stylesheet.
.PP
"Semantic" applicability statements are those entered by the author to
encode the applicability of elements within a data module.
"Presentation" applicability statements are those that are actually
displayed in page\-oriented output, also referred to as the
"human\-readable" statements.
.PP
The applicability in the resulting XML is longer semantically correct,
but an XSLT stylesheet can simply place a statement on any element with
attribute \f[C]applicRefId\f[] without needing to consider inherited
applicability statements on elements without the attribute.
.SH OPTIONS
.TP
.B \-a <ID>
The ID to use for the inline applicability annotation representing the
whole data module\[aq]s applicability.
Default is "applic\-0000".
.RS
.RE
.TP
.B \-f
Overwrite input data module(s) rather than outputting to stdout.
.RS
.RE
.TP
.B \-x
Process the modules using the XInclude specification.
.RS
.RE
.TP
.B <modules>...
The module(s) to preprocess.
This can include both individual modules and combined files such as
those produced by s1kd\-flatpm(1).
.RS
.RE
.SH EXAMPLE
.PP
Given the following:
.IP
.nf
\f[C]
<dmodule>
<identAndStatusSection>
<dmAddress>...</dmAddress>
<dmStatus>
\&...
<applic>
<displayText>
<simplePara>A\ or\ B</simplePara>
</displayText>
</applic>
\&...
</dmStatus>
</identAndStatusSection>
<content>
<referencedApplicGroup>
<applic\ id="applic\-B">
<displayText>
<simplePara>B</simplePara>
</displayText>
</applic>
</referencedApplicGroup>
<procedure>
<preliminaryRqmts>...</preliminaryRqmts>
<mainProcedure>
<proceduralStep>
<para>This\ step\ is\ applicable\ to\ A\ or\ B.</para>
</proceduralStep>
<proceduralStep\ applicRefId="applic\-B">
<para>This\ step\ is\ applicable\ to\ B\ only.</para>
</proceduralStep>
<proceduralStep\ applicRefId="applic\-B">
<para>This\ step\ is\ also\ applicable\ to\ B\ only.</para>
</proceduralStep>
<proceduralStep>
<para>This\ step\ is\ also\ applicable\ to\ A\ or\ B.</para>
</proceduralStep>
</mainProcedure>
<closeRqmts>...</closeRqmts>
</procedure>
</content>
</dmodule>
\f[]
.fi
.PP
Applicability statements should be displayed whenever applicability
changes:
.IP "1." 3
This step is applicable to A or B.
.IP "2." 3
\f[I]Applicable to: B\f[]
.RS 4
.PP
This step is applicable to B only.
.RE
.IP "3." 3
This step is also applicable to B only.
.IP "4." 3
\f[I]Applicable to: A or B\f[]
.RS 4
.PP
This step is also applicable to A or B.
.RE
.PP
There are two parts which are difficult to do in an XSLT stylesheet:
.IP \[bu] 2
No statement is shown on Step 3 despite having attribute
\f[C]applicRefId\f[] because the applicability has not changed since the
last statement on Step 2.
.IP \[bu] 2
A statement is shown on Step 4 despite not having attribute
\f[C]applicRefId\f[] because the applicability has changed back to that
of the whole data module.
.PP
Using the s1kd\-asp tool, the above XML would produce the following
output:
.IP
.nf
\f[C]
<dmodule>
<identAndStatusSection>
<dmAddress>...</dmAddress>
<dmStatus>
\&...
<applic>
<displayText>
<simplePara>A\ or\ B</simplePara>
</displayText>
</applic>
\&...
</dmStatus>
</identAndStatusSection>
<content>
<referencedApplicGroup>
<applic\ id="applic\-B">
<displayText>
<simplePara>B</simplePara>
</displayText>
</applic>
<applic\ id="applic\-0000">
<displayText>
<simplePara>A\ or\ B</simplePara>
</displayText>
</applic>
</referencedApplicGroup>
<procedure>
<preliminaryRqmts>...</preliminaryRqmts>
<mainProcedure>
<proceduralStep>
<para>This\ step\ is\ applicable\ to\ A\ or\ B.</para>
</proceduralStep>
<proceduralStep\ applicRefId="applic\-B">
<para>This\ step\ is\ applicable\ to\ B\ only.</para>
</proceduralStep>
<proceduralStep>
<para>This\ step\ is\ also\ applicable\ to\ B\ only.</para>
</proceduralStep>
<proceduralStep\ applicRefId="applic\-0000">
<para>This\ step\ is\ also\ applicable\ to\ A\ or\ B.</para>
</proceduralStep>
</mainProcedure>
</procedure>
</content>
</dmodule>
\f[]
.fi
.PP
With attribute \f[C]applicRefId\f[] only on those elements where a
statement should be shown, and an additional inline applicability to
represent the whole data module\[aq]s applicability.
This XML is semantically incorrect but easier for a stylesheet to
transform for page\-oriented output.
.SH AUTHORS
khzae.net.
