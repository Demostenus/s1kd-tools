.\" Automatically generated by Pandoc 2.3.1
.\"
.TH "s1kd\-flatten" "1" "2018\-10\-26" "" "s1kd\-tools"
.hy
.SH NAME
.PP
s1kd\-flatten \- Flatten a publication module for publishing
.SH SYNOPSIS
.IP
.nf
\f[C]
s1kd\-flatten\ [\-d\ <dir>]\ [\-I\ <path>]\ [\-cDfNpRrx]\ <PM>\ [<DM>...]
\f[]
.fi
.SH DESCRIPTION
.PP
The \f[I]s1kd\-flatten\f[] tool combines a publication module and the
data modules it references in to a single file for use with a publishing
system.
.PP
Data modules are by default searched for in the current directory using
the data module code, language and/or issue info provided in each
reference.
.SH OPTIONS
.TP
.B \-c
Flatten referenced container data modules by copying the references
inside the container directly in to the publication module.
The copied references will also be flattened, unless the \-d option is
specified.
.RS
.RE
.TP
.B \-D
Remove unresolved references, but do not flatten resolved ones.
.RS
.RE
.TP
.B \-d <dir>
Directory to start search in.
By default, the current directory is used.
.RS
.RE
.TP
.B \-f
Overwrite input publication module instead of writing to stdout.
.RS
.RE
.TP
.B \-h \-?
Show help/usage message.
.RS
.RE
.TP
.B \-I <path>
Add <path> to the list of directories that the tool will search when
resolving references.
.RS
.RE
.TP
.B \-N
Assume that the files representing the referenced data modules do not
include the issue info in their filenames, i.e.
they were created using the \-N option of the s1kd\-new* tools.
.RS
.RE
.TP
.B \-p
Instead of the "flat" PM format, use a "publication" XML format, where
the root element \f[C]publication\f[] contains XInclude references to
the publication module and the referenced data modules.
.RS
.RE
.TP
.B \-R
Recursively flatten referenced publication modules, copying their
content in to the "master" publication module.
.RS
.RE
.TP
.B \-r
Search directories recursively.
.RS
.RE
.TP
.B \-x
Use XInclude rather than copying each data module\[aq]s contents
directly inside the publication module.
DTD entities in data modules will only be carried over to the final
publication when using this option, otherwise they do not carry over
when copying the data module.
.RS
.RE
.TP
.B \-\-version
Show version information.
.RS
.RE
.TP
.B <DM>...
When using the \-p option, the filenames to include can be specified
manually as additional arguments instead of searching for them in the
current directory.
When not using the \-p option, additional arguments are ignored.
.RS
.RE
.TP
.B <PM>
The publication module to flatten.
.RS
.RE
.SH EXAMPLE
.IP
.nf
\f[C]
$\ s1kd\-flatten\ \-x\ PMC\-EX\-12345\-00001\-00_001\-00_EN\-CA.XML\ >\ Book.xml
\f[]
.fi
.SH AUTHORS
khzae.net.
