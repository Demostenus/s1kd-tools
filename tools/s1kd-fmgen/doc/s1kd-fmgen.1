.\" Automatically generated by Pandoc 2.3.1
.\"
.TH "s1kd\-fmgen" "1" "2019\-05\-21" "" "s1kd\-tools"
.hy
.SH NAME
.PP
s1kd\-fmgen \- Generate front matter data module contents
.SH SYNOPSIS
.IP
.nf
\f[C]
s1kd\-fmgen\ [\-F\ <FMTYPES>]\ [\-P\ <PM>]\ [\-x\ <XSL>\ [\-p\ <name>=<val>\ ...]]
\ \ \ \ \ \ \ \ \ \ \ [\-,.flvh?]\ (\-t\ <TYPE>|<DM>...)
\f[]
.fi
.SH DESCRIPTION
.PP
The \f[I]s1kd\-fmgen\f[] tool generates the content section for front
matter data modules from either a standard publication module, or the
combined format of the s1kd\-flatten(1) tool.
Some front matter types require the use of the combined format,
particularly those that list information not directly found in the
publication module, such as the highlights (HIGH) type.
.SH OPTIONS
.TP
.B \-,, \-\-dump\-fmtypes\-xml
Dump the built\-in \f[C]\&.fmtypes\f[] XML format.
.RS
.RE
.TP
.B \-., \-\-dump\-fmtypes
Dump the built\-in \f[C]\&.fmtypes\f[] simple text format.
.RS
.RE
.TP
.B \-h, \-?, \-\-help
Show usage message.
.RS
.RE
.TP
.B \-F, \-\-fmtypes <FMTYPES>
Specify a custom \f[C]\&.fmtypes\f[] file.
.RS
.RE
.TP
.B \-f, \-\-overwrite
Overwrite the specified front matter data module files after generating
their content.
.RS
.RE
.TP
.B \-l, \-\-list
Treat input (stdin or arguments) as lists of front matter data modules
to generate content for, rather than data modules themselves.
If reading list from stdin, the \-P option must be used to specify the
publication module.
.RS
.RE
.TP
.B \-P, \-\-pm <PM>
Publication module or s1kd\-flatten(1) PM format file to generate
contents from.
If none is specified, the tool will read from stdin.
.RS
.RE
.TP
.B \-p, \-\-param <name>=<value>
Pass a parameter to the XSLT specified with the \-X option.
.RS
.RE
.TP
.B \-t, \-\-type <TYPE>
Generate content for this type of front matter when no data modules are
specified.
Supported types are:
.RS
.IP \[bu] 2
HIGH \- Highlights
.IP \[bu] 2
LOEDM \- List of effective data modules
.IP \[bu] 2
TOC \- Table of contents
.IP \[bu] 2
TP \- Title page
.RE
.TP
.B \-v, \-\-verbose
Verbose output.
.RS
.RE
.TP
.B \-x, \-\-xsl <XSL>
Transform the front matter contents after generating them using the
specified XSLT.
This can be used, for example, to generate content for a descriptive
schema data module instead, to support older issues of the
specification, or for types of generated front matter not covered by the
frontmatter schema.
.RS
.RE
.TP
.B \-\-version
Show version information.
.RS
.RE
.TP
.B <DM>...
Front matter data modules to generate content for.
.RS
.RE
.PP
In addition, the following options enable features of the XML parser
that are disabled as a precaution by default:
.TP
.B \-\-dtdload
Load the external DTD.
.RS
.RE
.TP
.B \-\-net
Allow network access to load external DTD and entities.
.RS
.RE
.TP
.B \-\-noent
Resolve entities.
.RS
.RE
.TP
.B \-\-xinclude
Do XInclude processing.
.RS
.RE
.SS \f[C]\&.fmtypes\f[] file
.PP
This file specifies a list of info codes to associate with a particular
type of front matter.
By default, the program will search for a file named \f[C]\&.fmtypes\f[]
in the current directory and parent directories, but any file can be
specified using the \-F option.
.PP
Example of simple text format:
.IP
.nf
\f[C]
001\ \ \ \ TP
009\ \ \ \ TOC
00S\ \ \ \ LOEDM
00U\ \ \ \ HIGH
\f[]
.fi
.PP
Example of XML format:
.IP
.nf
\f[C]
<fmtypes>
<fm\ infoCode="001"\ type="TP"/>
<fm\ infoCode="009"\ type="TOC"/>
<fm\ infoCode="00S"\ type="LOEDM"/>
</fmtypes>
\f[]
.fi
.SS Optional title page elements
.PP
When re\-generating the front matter content for a title page data
module, optional elements which cannot be derived from the publication
module (such as the product illustration or bar code) will be copied
from the source data module when updating it.
.SH EXAMPLE
.PP
Generate the content for a title page front matter data module and
overwrite the file:
.IP
.nf
\f[C]
$\ s1kd\-flatten\ PMC\-EX\-12345\-00001\-00_001\-00_EN\-CA.XML\ |
>\ s1kd\-fmgen\ \-f\ DMC\-EX\-A\-00\-00\-00\-00A\-001A\-D_001\-00_EN\-CA.XML
\f[]
.fi
.SH AUTHORS
khzae.net.
